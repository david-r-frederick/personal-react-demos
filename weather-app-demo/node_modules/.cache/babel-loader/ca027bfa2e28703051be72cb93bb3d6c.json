{"ast":null,"code":"import mostlySunnyImg from '../../img/partlysunny.png';\nimport rainyImg from '../../img/rainy.png';\nimport snowyImg from '../../img/snowy.png';\nimport stormyImg from '../../img/stormy.png';\nimport sunnyImg from '../../img/sunny.png';\nimport cloudyImg from '../../img/cloudy.png';\nimport questionMarkImg from '../../img/questionMark.png';\nconst images = Array(7).fill(questionMarkImg); // const hours = [];\n// const currentDate = new Date();\n// for(let i = 0; i < 7; i++){\n//   hours.push(currentDate.getHours() + i);\n// }\n// const startHour = hours[0];\n// const endHour = hours[hours.length - 1] + 1;\n\nconst imagesObj = {\n  'Clear': sunnyImg,\n  'Clouds': cloudyImg,\n  'Rain': rainyImg,\n  'Snow': snowyImg,\n  'Storm': stormyImg\n};\nconst initialState = {\n  dayImages: images,\n  hourImages: images,\n  highTemps: ['', '', '', '', '', '', ''],\n  lowTemps: ['', '', '', '', '', '', ''],\n  hourTemps: ['', '', '', '', '', '', ''],\n  weatherDescs: ['', '', '', '', '', '', '']\n};\n\nconst reducer = (state = initialState, action) => {\n  if (action.type === 'FETCH_WEATHER') {\n    console.log(action.resData);\n    return { ...state,\n      highTemps: action.resData.daily.map(el => {\n        return Math.round(el.temp.max);\n      }),\n      lowTemps: action.resData.daily.map(el => {\n        return Math.round(el.temp.min);\n      }),\n      hourTemps: action.resData.hourly.slice(0, 7).map(el => {\n        return Math.round(el.temp).toFixed(0);\n      }),\n      dayImages: action.resData.daily.map(el => {\n        if (imagesObj[el.weather[0].main]) {\n          return imagesObj[el.weather[0].main];\n        } else {\n          return sunnyImg;\n        }\n      }),\n      hourImages: action.resData.hourly.map(el => {\n        if (imagesObj[el.weather[0].main]) {\n          return imagesObj[el.weather[0].main];\n        } else {\n          return sunnyImg;\n        }\n      })\n    };\n  }\n\n  return state;\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/dfred/Documents/Udemy React JS Course/weather-app-demo/src/store/reducers/reducer.js"],"names":["mostlySunnyImg","rainyImg","snowyImg","stormyImg","sunnyImg","cloudyImg","questionMarkImg","images","Array","fill","imagesObj","initialState","dayImages","hourImages","highTemps","lowTemps","hourTemps","weatherDescs","reducer","state","action","type","console","log","resData","daily","map","el","Math","round","temp","max","min","hourly","slice","toFixed","weather","main"],"mappings":"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","sourcesContent":["import mostlySunnyImg from '../../img/partlysunny.png';\r\nimport rainyImg from '../../img/rainy.png';\r\nimport snowyImg from '../../img/snowy.png';\r\nimport stormyImg from '../../img/stormy.png';\r\nimport sunnyImg from '../../img/sunny.png';\r\nimport cloudyImg from '../../img/cloudy.png';\r\nimport questionMarkImg from '../../img/questionMark.png';\r\n\r\nconst images = Array(7).fill(questionMarkImg);\r\n\r\n// const hours = [];\r\n// const currentDate = new Date();\r\n// for(let i = 0; i < 7; i++){\r\n//   hours.push(currentDate.getHours() + i);\r\n// }\r\n\r\n// const startHour = hours[0];\r\n// const endHour = hours[hours.length - 1] + 1;\r\n\r\nconst imagesObj = {\r\n  'Clear': sunnyImg,\r\n  'Clouds': cloudyImg,\r\n  'Rain': rainyImg,\r\n  'Snow': snowyImg,\r\n  'Storm': stormyImg\r\n}\r\n\r\nconst initialState = {\r\n    dayImages: images,\r\n    hourImages: images,\r\n    highTemps: ['', '', '', '', '', '', ''],\r\n    lowTemps: ['', '', '', '', '', '', ''],\r\n    hourTemps: ['', '', '', '', '', '', ''],\r\n    weatherDescs: ['', '', '', '', '', '', '']\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  if(action.type === 'FETCH_WEATHER'){\r\n    console.log(action.resData);\r\n    return {\r\n      ...state,\r\n      highTemps: action.resData.daily.map(el => {\r\n        return Math.round(el.temp.max);\r\n      }),\r\n      lowTemps: action.resData.daily.map(el => {\r\n        return Math.round(el.temp.min);\r\n      }),\r\n      hourTemps: action.resData.hourly.slice(0, 7).map(el => {\r\n        return Math.round(el.temp).toFixed(0);\r\n      }),\r\n      dayImages: action.resData.daily.map(el => {\r\n        if(imagesObj[el.weather[0].main]){\r\n          return imagesObj[el.weather[0].main];\r\n        } else {\r\n          return sunnyImg;\r\n        }\r\n      }),\r\n      hourImages: action.resData.hourly.map(el => {\r\n        if(imagesObj[el.weather[0].main]){\r\n          return imagesObj[el.weather[0].main];\r\n        } else {\r\n          return sunnyImg;\r\n        }\r\n      })\r\n    }\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}